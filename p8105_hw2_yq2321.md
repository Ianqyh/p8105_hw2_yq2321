P8105 Homework 2
================

Problem 1

The code chunk below reads and cleans Mr.Trash Wheel sheet.

``` r
trash_wheel_sheet = read_excel("hw2_data/Trash-Wheel-Collection-Totals-8-6-19.xlsx", sheet = "Mr. Trash Wheel", range = "A2:N408") %>%
  janitor::clean_names() %>%
  drop_na(dumpster) %>%
  mutate(sports_balls = round(sports_balls))
```

The code chunk below reads and cleans precipitation data for 2018.

``` r
precipitation_2018 = read_excel("hw2_data/Trash-Wheel-Collection-Totals-8-6-19.xlsx", sheet = "2018 Precipitation", range = "A2:B14") %>%
  janitor::clean_names() %>%
  mutate(year = 2018)
```

The code chunk below reads and cleans precipitation data for 2019.

``` r
precipitation_2019 = 
read_excel("hw2_data/Trash-Wheel-Collection-Totals-8-6-19.xlsx", sheet = "2019 Precipitation", range = "A2:B14") %>%
  janitor::clean_names() %>%
  drop_na(total) %>%
  mutate(year = 2019)
```

The code chunk below combines precipitation datasets and converts month
to a character variable.

``` r
precipitation_combined = bind_rows(precipitation_2018, precipitation_2019) %>%
  mutate(month = month.name[month])
```

The number of observations in the resulting Mr.Trash Wheel dataset is
344. Names of key variables are dumpster, month, year, date,
weight\_tons, volume\_cubic\_yards, plastic\_bottles, polystyrene,
cigarette\_butts, glass\_bottles, grocery\_bags, chip\_bags,
sports\_balls, homes\_powered. The number of observations in the
resulting combined precipitation dataset is 18. Names of key variables
are month, total, year. The total precipitation in 2018 is 70.33. The
median number of sports balls in a dumpster in 2019 is 8.5.

Problem 2

The code chunk below deals with data in pols-month.csv.

``` r
pols_month_data = read_csv("hw2_data/fivethirtyeight_datasets/pols-month.csv") %>% 
  separate(mon, into = c("year", "month", "day")) %>%
  mutate(year = as.integer(year), month = as.integer(month), day = as.integer(day)) %>%
  mutate(month = month.name[(month)]) %>%
  rename(dem = prez_dem) %>%
  rename(gop = prez_gop) %>%
  pivot_longer(c(dem, gop), names_to = "party", values_to = "president") %>%
  select(-day)
```

    ## Rows: 822 Columns: 9

    ## ── Column specification ────────────────────────────────────────────────────────
    ## Delimiter: ","
    ## dbl  (8): prez_gop, gov_gop, sen_gop, rep_gop, prez_dem, gov_dem, sen_dem, r...
    ## date (1): mon

    ## 
    ## ℹ Use `spec()` to retrieve the full column specification for this data.
    ## ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.

The code chunk below deals with data in snap.csv.

``` r
snp_data = read_csv("hw2_data/fivethirtyeight_datasets/snp.csv") %>%
  separate(date, into = c("month", "day", "year")) %>%
  arrange(year, as.numeric(month))
```

    ## Rows: 787 Columns: 2

    ## ── Column specification ────────────────────────────────────────────────────────
    ## Delimiter: ","
    ## chr (1): date
    ## dbl (1): close

    ## 
    ## ℹ Use `spec()` to retrieve the full column specification for this data.
    ## ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.

``` r
snp_data_1 = filter(snp_data, year >= 50) %>%
  mutate(year = as.numeric(year) + 1900)

snp_data_2 = filter(snp_data, year <= 15) %>%
  mutate(year = as.numeric(year) + 2000)

snp_data_final = bind_rows(snp_data_1, snp_data_2) %>%
  mutate(month = month.name[as.integer(month)]) %>%
  select(-day) %>%
  relocate(year, month)
```

The code chunk below deals with unemployment data.

``` r
unemployment_data = read_csv("hw2_data/fivethirtyeight_datasets/unemployment.csv") %>%
  pivot_longer(Jan:Dec, names_to = "month", values_to = "unemployment rate") %>%
  janitor::clean_names() %>%
  mutate(month = recode(month, `Jan` = "January", `Feb` = "February", `Mar` = "March", `Apr` = "April", `Jun` = "June", `Jul` = "July", `Aug` = "August", `Sep` = "September", `Oct` = "October", `Nov` = "November", `Dec` = "December"))
```

    ## Rows: 68 Columns: 13

    ## ── Column specification ────────────────────────────────────────────────────────
    ## Delimiter: ","
    ## dbl (13): Year, Jan, Feb, Mar, Apr, May, Jun, Jul, Aug, Sep, Oct, Nov, Dec

    ## 
    ## ℹ Use `spec()` to retrieve the full column specification for this data.
    ## ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.

The code chunk below join the datasets by merging snp\_data\_final into
pols\_month\_data, and merging unemployment\_data into the result.

``` r
polsmonth_snp = left_join(pols_month_data, snp_data_final)
```

    ## Joining, by = c("year", "month")

``` r
polsmonth_snp_unemployment = left_join(polsmonth_snp, unemployment_data)
```

    ## Joining, by = c("year", "month")

The pols-month dataset has dimension 1644 x 10. The range of years is
from 1947 to 2015. Names of key variables are year, month, gov\_gop,
sen\_gop, rep\_gop, gov\_dem, sen\_dem, rep\_dem, party, president. The
snp dataset has dimension 787 x 3. The range of years is from 1950 to
2015. Names of key variables are year, month, close. The unemployment
dataset has dimension 816 x 3. The range of years is from 1948 to 2015.
Names of key variables are year, month, unemployment\_rate. The
resulting dataset has dimension 1644 x 12. The range of years is from
1947 to 2015. Names of key variables are year, month, gov\_gop,
sen\_gop, rep\_gop, gov\_dem, sen\_dem, rep\_dem, party, president,
close, unemployment\_rate.

Problem 3

The code chunk below loads and tidies popular baby names data.

``` r
popular_baby_names = read_csv("hw2_data/Popular_Baby_Names.csv") %>%
  janitor::clean_names() %>%
  mutate(ethnicity = recode(ethnicity, `WHITE NON HISP` = "WHITE NON HISPANIC", `ASIAN AND PACI` = "ASIAN AND PACIFIC", `BLACK NON HISP` = "BLACK NON HISPANIC"))
```

    ## Rows: 19418 Columns: 6

    ## ── Column specification ────────────────────────────────────────────────────────
    ## Delimiter: ","
    ## chr (3): Gender, Ethnicity, Child's First Name
    ## dbl (3): Year of Birth, Count, Rank

    ## 
    ## ℹ Use `spec()` to retrieve the full column specification for this data.
    ## ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.
